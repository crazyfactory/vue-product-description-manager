<div id="app">
    <div class="app-nav">
        <nav v-bind:class="headline" @click.prevent>
            <a href="#" class="name" @click="makeActive('names')">Names <i class="fa fa-commenting-o fa-2x fa-pull-right menu-icon" aria-hidden="true"></i></a>
            <a href="#" class="name" @click="makeActive('material')">Material <i class="fa fa-industry fa-2x fa-pull-right menu-icon" aria-hidden="true"></i></a>
            <a href="#" class="metatags" @click="makeActive('metatags')">Metatags <i class="fa fa-tags fa-2x fa-pull-right menu-icon" aria-hidden="true"></i></a>
            <a href="#" class="preview" @click="makeActive('preview')">Preview <i class="fa fa-eye fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>
            <a href="#" class="export" @click="makeActive('export')">Save <i class="fa fa-database fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>
            <a href="#" class="message" @click="makeActive('admin')">Admin <i class="fa fa-user-secret fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>
        </nav>
    </div>
    <!-- show active messages -->
    <div class="container messages" v-cloak>
        <div class="alert alert-[[message.type]]" v-for="message in messages | filterBy true in 'show'">
            <i class=date">[[message.date]]:</i>
            <span>[[message.message]]</span>
            <i class="fa fa-eye-slash fa-pull-right" aria-hidden="true" @click="hideMessage(message)" ></i>
        </div>
    </div>
    <!-- end active messages -->
    <!-- Settings button -->
    <div class="container">
        <i class="fa fa-cogs fa-2x fa-pull-right" aria-hidden="true" title="Set languages for Editor and Preview features" @click="toggle_settings"></i>
    </div>
    <!-- end settings button -->
    <!-- settings section -->
    <div class="container settings" v-show="show_settings">
        <ul class="list-group">
            <li class="list-group-item align-right">
                <section class="settings language_editor">
          <span class="icon_label">
            <i class="fa fa-pencil fa-2x" aria-hidden="true" title="Set Editor language"></i>
          </span>
          <span v-for="language in languages">
            <span class="language" @click="addEditorLanguage(language.id)">
              <i style="color:darkgreen;" class="fa fa-caret-right" aria-hidden="true" v-if="language.id == editorLanguage"></i>
              <span class="flag-icon [[language.flag]]" ></span>
            <i style="color:darkgreen;" class="fa fa-caret-left" aria-hidden="true" v-if="language.id == editorLanguage"></i>
          </span>
        </span>
                </section>
                <span class="settings seperator">|</span>
                <section class="settings language_preview">
          <span class="icon_label">
            <i class="fa fa fa-eye fa-2x" aria-hidden="true" title="Set/ unset languages for the preview feature"></i>
          </span>
        <span v-for="language in languages">
          <span class="language" @click="toggle_language(language)">
              <i style="color:darkred;" class="fa fa-circle-o" aria-hidden="true" v-if="!language.status"></i>
              <i style="color:darkgreen;" class="fa fa-check-circle-o" aria-hidden="true" v-if="language.status"></i>
              <span class="flag-icon [[language.flag]]" ></span>
          </span>
        </span>
                </section>
            </li>
        </ul>
    </div>
    <!-- end settings section -->
    <div class="container">
        <h3 class="headline"><span class="[[headline_icon]]"></span> [[headline]]</h3>
        <div v-if="show_load" v-bind:class="{ 'col-xs-12 col-sm-12 col-md-12': isFullScreen, 'col-xs-12 col-sm-6 col-md-6':isSmallScreen }">
            <section class="product-management load_products" @click.stop >
                <!-- Add Products -->
                <header class="header">
                    <input v-if="!show_actionbar" class="new-product"
                           autofocus autocomplete="off"
                           placeholder="Enter products model code"
                           v-model="newProduct"
                           @keyup.enter="addProduct">
                    <i class="fa fa-exchange fa-2x switch_actionbar cursor" aria-hidden="true" @click="toggle_actionbar()"></i>
                    <div class="actionbar" v-if="show_actionbar">
                        <span class="action"><i>Select:</i></span>
                        <section v-if="!hasEditableProducts">
                            <span title="Nothing to SELECT" class="action"><i style="color:#ccc;" class="fa fa-check-circle-o"  aria-hidden="true"></i></span>
                            <span title="Nothing to INVERT" class="action"><i style="color:#ccc;" class="fa fa-random" aria-hidden="true"></i></span>
                            <span title="Nothing to DESELECT" class="action"><i style="color:#ccc;" class="fa fa-circle-o" aria-hidden="true"></i></span>
                        </section>
                        <section v-if="hasEditableProducts">
                            <span title="SELECT ALL products" class="action cursor" @click="selectAllProducts(true)"><i class="fa fa-check-circle-o" style="color:darkgreen;" aria-hidden="true"></i></span>
                            <span title="INVERT current selection" class="action cursor" @click="invertSelectedlProducts()"><i style="color:gold;" class="fa fa-random" aria-hidden="true"></i></span>
                            <span title="DESELECT ALL" class="action cursor" @click="selectAllProducts(false)"><i style="color:darkred;" class="fa fa-circle-o" aria-hidden="true"></i></span>
                        </section>
                        <span> | </span>
                        <span class="actions"><i>Actions:</i></span>
                        <section v-if="!hasEditableProducts">
                            <span title="Nothing to DELETE" class="action"><i style="color:#ccc;" class="fa fa-trash-o" aria-hidden="true" ></i></span>
                            <span title="Nothing to HIDE" class="action"><i style="color:#ccc;" class="fa fa-eye-slash" aria-hidden="true" ></i></span>
                        </section>
                        <section v-if="hasEditableProducts">
                            <span title="DELETE all selected products" class="action cursor" @click="removeSeletedProducts()"><i style="color:darkred;" class="fa fa-trash-o" aria-hidden="true" ></i></span>
                            <span title="HIDE all selected products" class="action cursor" @click="hideSelectedProducts()"><i style="color:darkred;" class="fa fa-eye-slash" aria-hidden="true" ></i></span>
                        </section>
                        <span v-if="hasHiddenProducts" title="SHOW all hidden products" class="action cursor" @click="showAllProducts()"><i style="color:darkgreen;" class="fa fa-eye" aria-hidden="true"></i></span>
                    </div>
                </header>
                <!-- End add products -->
                <section class="main" v-show="products.length" v-cloak>
                    <!-- List products -->
                    <ul class="product-list">
                        <li v-for="product in products | filterBy false in 'hidden'"
                            class="product"
                            :key="product.id"
                            :class="{ active: product.active }">
                            <div class="view">
                                <input class="toggle" type="checkbox" v-model="product.active">
                                <i class="product_action fa fa-trash-o fa-2x fa-pull-right cursor" aria-hidden="true" @click="removeProduct(product)"></i>
                                <i class="product_action fa fa-eye-slash fa-2x fa-pull-right cursor" aria-hidden="true" @click="hideProduct(product)"></i>
                                <label>[[product.modelCode]] <i class="fa fa-floppy-o cursor" title="Save [[ product.modelCode ]] to database" aria-hidden="true" @click="exportProduct(product)" v-if="product.dirty"></i>
                                </label>
                                <!-- Generic Product Names by language -->
                                <ul v-if="show_names && (product.base_product || product.component1 || product.component2 || product.cached_names)" class="list-group indent">
                                    <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                        <span class="flag-icon [[language.flag]]" ></span>
                    <span v-if="product.base_product || product.component1 || product.component2">
                      <i class="fa fa-trash-o fa-pull-right cursor" title="Remove this Product name" aria-hidden="true" @click="removeProductName(product)"></i>
                      <i class="fa fa-pencil fa-pull-right cursor" title="Add custom name" aria-hidden="true" v-show="!product.names[language.id].edit" @click="editMe(product.names[language.id], product)"></i>
                      <span class="cursor" @click="editMe(product.names[language.id], product)"
                            v-if="product.names[language.id] && !(product.cached_names && product.cached_names[language.id].value==product.names[language.id].value)">
                        [[product.names[language.id].original_value ]]
                      </span>
                      <div class="customized_name"
                           v-if="(product.names[language.id].original_value!=product.names[language.id].value) || product.names[language.id].edit" >
                          <i class="fa fa-times-circle-o fa-pull-right cursor" title="Close Editor" aria-hidden="true" v-show="product.names[language.id].edit" @click="closeEditMe(product.names[language.id])"></i>
                          <span v-show="!product.names[language.id].edit" @click="editMe(product.names[language.id], product)" class="fa fa-pencil-square-o fa-pull-left customized_name_icon cursor" title="custom name for '[[language.id]]'"></span>
                          <span v-show="!product.names[language.id].edit" class="cursor" @click="editMe(product.names[language.id], product)">[[ product.names[language.id].value ]]</span>
                          <div class="editable" v-show="product.names[language.id].edit">
                              <textarea v-model="product.names[language.id].value" @keyup.esc="closeEditMe(product.names[language.id])" @keyup.enter="closeEditMe(product.names[language.id])"></textarea>
                          </div>
                          <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete custom name for '[[language.id]]'" @click="removeCustomName(product.names[language.id])"></i>
                      </div>
                    </span>
                    <span class="cached" v-if="product.cached_names" v-bind:class="{ 'override': product.names[language.id] && !(product.cached_names[language.id].value==product.names[language.id].value)}">
                      [[product.cached_names[language.id].value ]] <br>
                    </span>
                                    </li>
                                </ul>
                                <!-- End Product Names by language -->
                                <div class="indent" v-if="show_material">
                                    <!-- material configuration -->
                                    <ul class="list-group" v-if="product.materials.length >0 || product.cached_materials">
                                        <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                            <span class="flag-icon [[language.flag]] cursor"></span>
                      <span v-for="(index, material) in product.materials">
                        <span v-if="index > 0"> / </span>
                        [[ materials[material].label[language.id].value ]]
                      </span>
                                            <i class="fa fa-pull-right fa-trash-o cursor" @click="removeMaterial(product);"></i>
                      <span v-if="product.cached_materials[language.id]" class="cached" v-bind:class="{ 'override': product.materials.length >0 }">
                        [[ product.cached_materials[language.id].value ]]
                      </span>
                                        </li>
                                    </ul>
                                    <!-- end material -->
                                </div>
                                <div v-if="show_metatags">
                                    <!-- Meta tag preview -->
                                    <ul  class="indent"
                                         v-if="product.metatags.length>0 || product.metatagMaterial.length>0 || product.metatagBaseProduct.length>0
                              || product.metatagComponent1.length>0 || product.metatagComponent2.length>0 || product.cached_metatags">
                                        <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                            <ul>
                                                <li v-bind:class="{'no-bottom-space': product.cached_metatags && product.cached_metatags[language.id] }"><span class="flag-icon [[language.flag]] fa-pull-left cursor" @click="debugMe(product)" style="margin-top:-8px; margin-left:-12px;"></span>
                          <span v-if="product.cached_metatags && product.cached_metatags[language.id]" class="cached metatags" v-bind:class="{ 'override': product.metatags.length>0 || product.metatagMaterial.length>0 || product.metatagBaseProduct.length>0
                              || product.metatagComponent1.length>0 || product.metatagComponent2.length>0 }">
                            [[ product.cached_metatags[language.id].value ]]
                          </span>
                                                </li>
                                                <li class="list-group-item" v-for="metatag in product.metatagBaseProduct" >
                                                    <!-- BaseProduct Metatags -->
                                                    <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagBaseProduct')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                    <!-- END BaseProduct Metatags -->
                                                </li>
                                                <li class="list-group-item" v-for="metatag in product.metatagComponent1" >
                                                    <!-- Component1 Metatags -->
                                                    <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagComponent1')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                    <!-- END Component1 Metatags -->
                                                </li>
                                                <li class="list-group-item" v-for="metatag in product.metatagComponent2" >
                                                    <!-- Component2 Metatags -->
                                                    <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagComponent2')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                    <!-- END Component2 Metatags -->
                                                </li>
                                                <li class="list-group-item" v-for="metatag in product.metatagMaterial" >
                                                    <!-- Material Metatags -->
                                                    <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagMaterial')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                    <!-- END Material Metatags -->
                                                </li>
                                                <li class="list-group-item" v-for="metatag in product.metatags" v-show="metatags[metatag]">
                                                    <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeMetatag(product, metatag)"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <!-- Meta tag preview end -->
                                </div>
                                <!-- Preview Feature -->
                                <div class="product_preview" v-on:click.stop v-if="show_preview">
                                    <div class="indent">
                                        <h5 class="product_name inline" v-if="product.base_product"><i class="fa fa-commenting-o fa-pull-left" aria-hidden="true" ></i> Names:</h5>
                                        <ul class="list-group" v-if="product.base_product">
                                            <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                                <i class="fa fa-pencil fa-pull-right cursor" title="Add custom name" aria-hidden="true" v-show="!product.names[language.id].edit" @click="editMe(product.names[language.id], product)"></i>
                                                <i class="fa fa-times-circle-o fa-pull-right cursor" title="Close Editor" aria-hidden="true" v-show="product.names[language.id].edit" @click="closeEditMe(product.names[language.id])"></i>
                                                <span class="flag-icon [[language.flag]]" ></span>
                                                <span v-show="!product.names[language.id].edit" class="cursor" @click="editMe(product.names[language.id], product)">[[ product.names[language.id].value ]]</span>
                                                <div class="editable" v-show="product.names[language.id].edit">
                                                    <textarea v-model="product.names[language.id].value" @keyup.enter="closeEditMe(product.names[language.id])" @keyup.esc="closeEditMe(product.names[language.id])"></textarea>
                                                </div>
                        <span class="cached" v-if="product.cached_names" v-bind:class="{ 'override': (product.base_product || product.component1 || product.component2)}">
                          [[product.cached_names[language.id].value ]] <br>
                        </span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div v-if="product.descriptions" class="indent description">
                                        <h5><i class="fa fa-info-circle fa-pull-left" aria-hidden="true" ></i> Descriptions:</h5>
                                        <ul class="list-group">
                                            <!-- Language dependent items -->
                                            <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                                <i class="fa fa-pencil fa-pull-right cursor" title="Add custom description" aria-hidden="true" v-show="!product.descriptions[language.id].edit" @click="editMe(product.descriptions[language.id], product)"></i>
                                                <i class="fa fa-times-circle-o fa-pull-right cursor" title="Close Editor" aria-hidden="true" v-show="product.descriptions[language.id].edit" @click="closeEditMe(product.descriptions[language.id])"></i>
                                                <i class="fa fa-refresh fa-pull-right cursor" title="Generate new description" aria-hidden="true" @click="getGeneratedDescription(product, language.id)"></i>
                                                <span class="flag-icon [[language.flag]]" ></span>
                                                <!-- original description -->
                        <span v-if="product.cached_descriptions && product.cached_descriptions[language.id]" class="cached" v-bind:class="{ 'override': !(product.descriptions[language.id].value == product.cached_descriptions[language.id].value) }">
                          [[ product.cached_descriptions[language.id].value ]]</span>
                                                <!-- end original description -->
                        <span v-if="!product.cached_descriptions || !(product.descriptions[language.id].value == product.cached_descriptions[language.id].value)" class="cursor" @click="editMe(product.descriptions[language.id],product)">
                          [[product.descriptions[language.id].value]]
                        </span>
                                                <div class="editable" v-show="product.descriptions[language.id].edit">
                                                    <textarea v-model="product.descriptions[language.id].value" @keyup.enter="closeEditMe(product.descriptions[language.id])"></textarea>
                                                </div>
                                            </li>
                                            <!-- end language dependent items -->
                                        </ul>
                                    </div>
                                    <div v-if="product.materials.length>0" class="indent">
                                        <h5><i class="fa fa-industry fa-pull-left" aria-hidden="true"></i> Materials:</h5>
                                        <!-- Material Preview -->
                                        <ul class="list-group">
                                            <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                                <span class="flag-icon [[language.flag]] cursor" @click="debugMe(product)"></span>
                      <span v-for="(index, material) in product.materials">
                        <span v-if="index > 0"> / </span>
                        [[ materials[material].label[language.id].value ]]
                      </span>
                                                <i class="fa fa-pull-right fa-trash-o cursor" @click="deleteMaterials(product);"></i>
                        <span v-if="product.cached_materials[language.id]" class="cached" v-bind:class="{ 'override': product.materials.length >0 }">
                        [[ product.cached_materials[language.id].value ]]
                      </span>
                                            </li>
                                        </ul>
                                        <!-- End Material Preview -->
                                    </div>
                                    <div v-if="product.metatags.length>0">
                                        <h5 class="indent"><i class="fa fa-tags fa-pull-left" aria-hidden="true"></i> Metatags:</h5>
                                        <!-- Meta tag preview -->
                                        <ul  class="indent" v-if="product.metatags.length>0">
                                            <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                                                <ul>
                                                    <li v-bind:class="{'no-bottom-space': product.cached_metatags }"><span class="flag-icon [[language.flag]] fa-pull-left cursor" @click="debugMe(product)" style="margin-top:-8px; margin-left:-12px;"></span>
                          <span v-if="product.cached_metatags && product.cached_metatags[language.id]" class="cached metatags" v-bind:class="{ 'override': product.metatags.length>0 || product.metatagMaterial.length>0 || product.metatagBaseProduct.length>0
                              || product.metatagComponent1.length>0 || product.metatagComponent2.length>0 }">
                            [[ product.cached_metatags[language.id].value ]]
                          </span>
                                                    </li>
                                                    <!--
                                                    <li><span class="flag-icon [[language.flag]] fa-pull-left" style="margin-top:-8px; margin-left:-12px;"></span></li>
                                                    -->
                                                    <li class="list-group-item" v-for="metatag in product.metatagBaseProduct" >
                                                        <!-- BaseProduct Metatags -->
                                                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagBaseProduct')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                        <!-- END BaseProduct Metatags -->
                                                    </li>
                                                    <li class="list-group-item" v-for="metatag in product.metatagComponent1" >
                                                        <!-- Component1 Metatags -->
                                                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagComponent1')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                        <!-- END Component1 Metatags -->
                                                    </li>
                                                    <li class="list-group-item" v-for="metatag in product.metatagComponent2" >
                                                        <!-- Component2 Metatags -->
                                                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagComponent2')"></i>
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                        <!-- END Component2 Metatags -->
                                                    </li>
                                                    <li class="list-group-item" v-for="metatag in product.metatagMaterial" >
                                                        <!-- Material Metatags -->
                                                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeAutoMetatag(product, metatag, 'metatagMaterial')"></i>

                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i>[[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                        <!-- END Material Metatags -->
                                                    </li>
                                                    <li class="list-group-item" v-for="metatag in product.metatags" v-show="metatags[metatag]">
                          <span v-if="metatags[metatag]">
                              <i class="fa fa-tag fa-pull-left"></i> [[ metatags[metatag].label[language.id].value ]]
                          </span>
                           <span class="alias" v-if="metatags[metatag] && metatags[metatag].alias[language.id].value.length > 0">
                              <i class="fa fa-tags"></i>[[ metatags[metatag].alias[language.id].value ]]
                            </span>
                                                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" title="Delete this tag" @click="removeMetatag(product, metatag)"></i>
                                                    </li>
                                                </ul>

                                            </li>
                                        </ul>
                                        <!-- Meta tag preview end -->
                                    </div>
                                </div>
                                <!-- Preview END -->
                            </div>
                        </li>
                    </ul>
                    <!-- End List products -->
                </section>
            </section>
        </div>
        <!-- Add Products end -->
        <!-- Add Product Names -->
        <div class="products_name row col-xs-12 col-sm-6 col-md-6" @click.stop v-if="show_names">
            <div class="margin-bottom" v-if="show_base_product_edit && !show_name_scheme_edit"><i class="indent">Please select at least one base_product or component to edit ...</i></div>
            <div class="margin-bottom">
                <v-select :value.sync="selected_base_product" placeholder="Select a Base Product"
                          :options="base_product_objects"
                          :taggable="true"
                          :push-tags="true"
                          :get-option-label="getOptionLabelValue"
                          :create-option="createBaseProductOption"></v-select>
            </div>
            <div class="margin-bottom">
                <v-select :value.sync="selected_component_1" placeholder="Select an component"
                          :options="component_objects"
                          :get-option-label="getOptionLabelValue"
                          :taggable="true"
                          :push-tags="true"
                          :get-option-label="getOptionLabelValue"
                          :create-option="createComponentOption"></v-select>
            </div>
            <div class="margin-bottom">
                <v-select :value.sync="selected_component_2" placeholder="Select an other component"
                          :options="component_objects"
                          :get-option-label="getOptionLabelValue"
                          :taggable="true"
                          :push-tags="true"
                          :get-option-label="getOptionLabelValue"
                          :create-option="createComponentOption"></v-select>
            </div>
            <div class="row">
                <div class="actions" v-if="!show_base_product_edit || !show_name_scheme_edit">
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="saveNameScheme()"><i class="fa fa-commenting-o fa-2x" aria-hidden="true"></i> Set </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="deleteBaseProductsComponents()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Delete </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="editBaseProducts()"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i> Edit </button>
                </div>
            </div>
            <div class="row" v-if="show_base_product_edit && show_name_scheme_edit">
                <!-- Edit BaseProduct/ Components -->
                <h5 class="indent">Edit Base Product & Components  <i class="fa fa-times-circle-o fa-2x fa-pull-right close-edit-metatags cursor" aria-hidden="true" @click="closeEditBaseProducts()"></i></h5>
                <ul class="indent metatag-list" v-if="selected_base_product || selected_component_1 || selected_component_2">
                    <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                        <ul>
                            <li><span class="flag-icon [[language.flag]] fa-pull-left" style="margin-top:-8px; margin-left:-12px;"></span></li>
                            <li class="list-group-item" v-if="selected_base_product">
                  <span v-if="!selected_base_product.label[language.id].edit">
                    <!-- Show Edit BaseProduct -->
                    <i class="fa fa-commenting-o fa-pull-left"></i>
                    <span @click="editMe(base_products[selected_base_product.value].label[language.id])">[[ base_products[selected_base_product.value].label[language.id].value ]]</span>
                     <i class="fa fa-pull-right fa-pencil cursor" @click="editMe(base_products[selected_base_product.value].label[language.id])"></i>
                  </span>
                                <div v-if="base_products[selected_base_product.value].label[language.id].edit">
                                    <i class="fa fa-pull-right fa-times-circle-o cursor" style="margin-top:-10px;" v-if="base_products[selected_base_product.value].label[language.id].edit" @click="closeEditMe(base_products[selected_base_product.value].label[language.id])"></i>
                                    <h5><i class="fa fa-commenting-o fa-pull-left"></i>Label</h5> <input class="full-width" v-model="base_products[selected_base_product.value].label[language.id].value" @keyup.enter="closeEditMe(base_products[selected_base_product.value].label[language.id])">
                                </div>
                            </li>
                            <li class="list-group-item" v-if="selected_component_1">
                <span v-if="!selected_component_1.label[language.id].edit">
                    <!-- Show Component 1 -->
                    <i class="fa fa-commenting-o fa-pull-left"></i>
                    <span @click="editMe(components[selected_component_1.value].label[language.id])">[[ components[selected_component_1.value].label[language.id].value ]]</span>
                     <i class="fa fa-pull-right fa-pencil cursor" @click="editMe(components[selected_component_1.value].label[language.id])"></i>
                </span>
                                <div v-if="components[selected_component_1.value].label[language.id].edit">
                                    <i class="fa fa-pull-right fa-times-circle-o cursor" style="margin-top:-10px;" v-if="components[selected_component_1.value].label[language.id].edit" @click="closeEditMe(components[selected_component_1.value].label[language.id])"></i>
                                    <h5><i class="fa fa-commenting-o fa-pull-left"></i>Label</h5> <input class="full-width" v-model="components[selected_component_1.value].label[language.id].value" @keyup.enter="closeEditMe(components[selected_component_1.value].label[language.id])">
                                </div>
                            </li>
                            <li class="list-group-item" v-if="selected_component_2">
                <span v-if="!selected_component_2.label[language.id].edit">
                    <!-- Show Component 2 -->
                    <i class="fa fa-commenting-o fa-pull-left"></i>
                    <span @click="editMe(components[selected_component_2.value].label[language.id])">[[ components[selected_component_2.value].label[language.id].value ]]</span>
                     <i class="fa fa-pull-right fa-pencil cursor" @click="editMe(components[selected_component_2.value].label[language.id])"></i>
                </span>
                                <div v-if="components[selected_component_2.value].label[language.id].edit">
                                    <i class="fa fa-pull-right fa-times-circle-o cursor" style="margin-top:-10px;" v-if="components[selected_component_2.value].label[language.id].edit" @click="closeEditMe(components[selected_component_2.value].label[language.id])"></i>
                                    <h5><i class="fa fa-commenting-o fa-pull-left"></i>Label</h5> <input class="full-width" v-model="components[selected_component_2.value].label[language.id].value" @keyup.enter="closeEditMe(components[selected_component_2.value].label[language.id])">
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- End edit BaseProduct/ Components -->
            </div>

        </div>
        <!-- End Product Names  -->
        <div class="row col-xs-12 col-sm-6 col-md-6" v-if="show_material">
            <!-- Product Materials -->
            <div class="margin-bottom">
                <v-select :value.sync="selected_materials" placeholder="Select Material"
                          :options="material_objects"
                          :multiple="true"
                          :taggable="true"
                          :push-tags="true"
                          :get-option-label="getOptionLabelValue"
                          :create-option="createMaterialOption">
                </v-select>
            </div>
            <div class="row">
                <div class="actions" v-if="!show_materials_edit">
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="saveMaterials()"><i class="fa fa-industry fa-2x" aria-hidden="true"></i> Set </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="deleteMaterials()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Delete </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="editMaterials()"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i> Edit </button>
                </div>
            </div>
            <div class="row" v-if="show_materials_edit">
                <!-- Edit Materials -->
                <i class="indent" v-if="!selected_materials.length > 0">Please select Materials to edit ...</i>
                <h5 class="indent" v-if="selected_materials.length > 0">Edit Materials  <i class="fa fa-times-circle-o fa-2x fa-pull-right close-edit-metatags cursor" aria-hidden="true" @click="closeEditMaterials()"></i></h5>
                <ul class="indent metatag-list" v-if="selected_materials.length > 0">
                    <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                        <ul>
                            <li><span class="flag-icon [[language.flag]] fa-pull-left" style="margin-top:-8px; margin-left:-12px;"></span></li>
                            <li class="list-group-item" v-for="material in selected_materials">
                  <span v-if="!materials[material.value].label[language.id].edit">
                    <i class="fa fa-industry fa-pull-left"></i>
                    [[ materials[material.value].label[language.id].value ]]
                     <i class="fa fa-pull-right fa-pencil cursor" @click="editMe(materials[material.value].label[language.id])"></i>
                  </span>
                                <div v-if="materials[material.value].label[language.id].edit">
                                    <i class="fa fa-pull-right fa-times-circle-o cursor" style="margin-top:-10px;" v-if="materials[material.value].label[language.id].edit" @click="closeEditMe(materials[material.value].label[language.id])"></i>
                                    <h5><i class="fa fa-industry fa-pull-left"></i>Label</h5> <input class="full-width" v-model="materials[material.value].label[language.id].value" @keyup.enter="closeEditMe(materials[material.value].label[language.id])">
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- End edit materials -->
            </div>
            <!-- End Product Materials -->
        </div>
        <div class="products_metatags row col-xs-12 col-sm-6 col-md-6" @click.stop v-if="show_metatags">
            <!-- Meta Tags -->
            <div class="margin-bottom">
                <v-select :value.sync="selected_metatags" placeholder="Select Metatags"
                          :options="metatag_objects"
                          :multiple="true"
                          :taggable="true"
                          :push-tags="true"
                          :create-option="createMetatagOption"
                          :get-option-label="getOptionLabelValue">
                </v-select>
            </div>
            <div class="row">
                <div class="actions" v-if="!show_metatags_edit">
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="saveMetatags()"><i class="fa fa-tags fa-2x" aria-hidden="true"></i> Set </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="deleteMetatags()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Delete </button>
                    <button type="button" class="btn btn-success fa-pull-right cursor" @click="editMetatags()"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i> Edit </button>
                </div>
            </div>
            <div class="row" v-if="show_metatags_edit">
                <!-- Edit Metatags -->
                <i class="indent" v-if="!selected_metatags.length > 0">Please select Metatags to edit ...</i>
                <h5 class="indent" v-if="selected_metatags.length > 0">Edit Metatags  <i class="fa fa-times-circle-o fa-2x fa-pull-right close-edit-metatags cursor" aria-hidden="true" @click="closeEditMetatags()"></i></h5>
                <ul class="indent metatag-list" v-if="selected_metatags.length > 0">
                    <li class="list-group-item small" v-for="language in languages" v-show="language.status">
                        <ul>
                            <li><span class="flag-icon [[language.flag]] fa-pull-left" style="margin-top:-8px; margin-left:-12px;"></span></li>
                            <li class="list-group-item" v-for="metatag in selected_metatags">
                  <span v-if="!metatags[metatag.id].label[language.id].edit">
                    <i class="fa fa-tag fa-pull-left"></i>
                    [[ metatags[metatag.id].label[language.id].value ]]
                    <span class="alias" v-if="metatags[metatag.id].alias[language.id].value.length > 0">
                      <i class="fa fa-tags"></i>[[ metatags[metatag.id].alias[language.id].value ]]
                    </span>
                     <i class="fa fa-pull-right fa-pencil cursor" @click="editMe(metatags[metatag.id].label[language.id])"></i>
                  </span>
                                <div v-if="metatags[metatag.id].label[language.id].edit">
                                    <i class="fa fa-pull-right fa-times-circle-o cursor" style="margin-top:-10px;" v-if="metatags[metatag.id].label[language.id].edit" @click="closeEditMe(metatags[metatag.id].label[language.id])"></i>
                                    <h5><i class="fa fa-tag fa-pull-left"></i>Label</h5> <input class="full-width" v-model="metatags[metatag.id].label[language.id].value" @keyup.enter="closeEditMe(metatags[metatag.id].label[language.id])">
                                </div>
                                <div v-if="metatags[metatag.id].label[language.id].edit">
                                    <h5><i class="fa fa-tags"></i> Aliases</h5>
                                    <input class="full-width" v-model="metatags[metatag.id].alias[language.id].value" @keyup.enter="closeEditMe(metatags[metatag.id].label[language.id])">
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- End edit metatags -->
            </div>
            <!-- End Meta Tag -->
        </div>
        <div v-bind:class="{ 'col-xs-12 col-sm-12 col-md-12': isFullScreen, 'col-xs-12 col-sm-6 col-md-6':isSmallScreen }" @click.stop v-if="show_export">
            <!-- Export to DB -->
            <h5 v-if="!hasDirtyProducts"><i>Nothing to save</i></h5>
            <ul class="list-group">
                <li class="list-group-item" v-if="hasDirtyProducts">
                    <h5>Products</h5>
                    <ul>
                        <li class="list-group-item" v-for="product in products | filterBy true in 'dirty'">
                            [[product.modelCode]]
                            &nbsp;&nbsp;&nbsp;<i class="fa fa-floppy-o cursor" title="Save [[ product.modelCode ]] to database" aria-hidden="true" @click="exportProduct(product)"></i>
                        </li>
                        <li class="list-group-item">
                            <button type="button" class="btn btn-success cursor" @click="exportAllProducts"><i class="fa fa-database fa-2x" aria-hidden="true"></i> Save All </button>
                        </li>
                    </ul>
                </li>
            </ul>
            <!-- End Export to DB -->
        </div>
        <div class="message row col-xs-12 col-sm-12 col-md-12" @click.stop v-if="show_message">
            <!-- Settings & Messages -->
            <ul class="list-group">
                <li class="list-group-item">
                    <h5>BaseProducts & Components & Materials & Metatags</h5>
                    <a href="#" class="export cursor" @click="debugBaseProducts()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug BaseProducts</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="clearBaseProducts()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Clear BaseProducts</a>&nbsp;&nbsp;
                    <b style="font-size:2em"> | </b>
                    <a href="#" class="export cursor" @click="debugComponents()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug Components</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="clearComponents()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Clear Components</a>
                    <b style="font-size:2em"> | </b>
                    <a href="#" class="export cursor" @click="debugMaterials()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug Materials</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="clearMaterials()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Clear Materials</a>&nbsp;&nbsp;
                    <b style="font-size:2em"> | </b>
                    <a href="#" class="export cursor" @click="debugMetatags()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug Metatags</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="clearLocalMetatags()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Clear local Metatags</a>
                </li>
                <li class="list-group-item">
                    <h5>Settings</h5>
                    <a href="#" class="export cursor" @click="clearSettings()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Clear local settings</a>&nbsp;&nbsp;
                </li>
                <li class="list-group-item">
                    <h5>Messages</h5>
                    <a href="#" class="error_report cursor" @click="alert('A message will be send to the admin with the errors listed below')"><i class="fa fa-share-square-o fa-2x" aria-hidden="true"></i> Share Errors </a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="addMessage('test message dude', 'danger')"><i class="fa fa-plus-square fa-2x" aria-hidden="true"></i> Add Error message</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="removeMessages()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Delete ALL messages</a>&nbsp;&nbsp;
                    <a href="#" class="export cursor" @click="debugMessages()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug messages</a>
                </li>
            </ul>
            <h5><i class="fa fa-envelope-o" aria-hidden="true"></i> A history of failure</h5>
            <ul class="list-group">
                <li class="list-group-item" v-for="message in messages | filterBy 'danger' in 'type'">
                    <div class="alert alert-[[message.type]]" >
                        <i class=date">[[message.date]]:</i>
                        <span>[[message.message]]</span>
                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" @click="removeMessage(message)" ></i>
                    </div>

                </li>
            </ul>
            <h5><i class="fa fa-envelope-o" aria-hidden="true"></i> A history of success</h5>
            <ul class="list-group">
                <li class="list-group-item" v-for="message in messages | filterBy 'success' in 'type'">
                    <div class="alert alert-[[message.type]]" >
                        <i class=date">[[message.date]]:</i>
                        <span>[[message.message]]</span>
                        <i class="fa fa-trash-o fa-pull-right cursor" aria-hidden="true" @click="removeMessage(message)" ></i>
                    </div>

                </li>
            </ul>
            <!-- End Settings & Messages -->
        </div>
    </div>
</div>
