<!DOCTYPE html>
<html>
<head>
  <title>Welcome to the ProductDescriptor</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  <!-- get vue.js -->
  <!-- use vue-1.0.28.js (not 2.x.x) for vue-select -->
  <script src="./assets/vue-1.0.28.js"></script>
  <!-- get select extension -->
  <script src="./assets/vue-select-1.3.3.js"></script>
  <script src="./assets/moment.min.js"></script>

  <!-- load data -->
  <script src="config/de/attributes.js"></script>
  <script src="config/de/categories.js"></script>
  <script src="config/api.js"></script>
  <!-- get css styles -->
  <link href="./assets/bootstrap-3.3.6.min.css" rel="stylesheet" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/2.7.0/css/flag-icon.min.css" rel="stylesheet" type="text/css" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>
<body>
<div id="app">
  <div class="app-nav">
    <nav v-bind:class="headline" v-on:click.prevent>
      <a href="#" class="name" v-on:click="makeActive('names')">Names <i class="fa fa-commenting-o fa-2x fa-pull-right menu-icon" aria-hidden="true"></i> </a>
      <a href="#" class="preview" v-on:click="makeActive('preview')">Preview <i class="fa fa fa-eye fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>
      <a href="#" class="export" v-on:click="makeActive('export')">Export <i class="fa fa fa-database fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>
      <a href="#" class="message" v-on:click="makeActive('message')">Messages <i class="fa fa fa-envelope-open-o fa-pull-right fa-2x menu-icon" aria-hidden="true"></i></a>

    </nav>
  </div>
  <div class="container messages">
    <div class="alert alert-[[message.type]]" v-for="message in messages | filterBy true in 'show'">
      <i class=date">[[message.date]]:</i>
      <span>[[message.message]]</span>
      <i class="fa fa-eye-slash fa-pull-right" aria-hidden="true" @click="hideMessage(message)" ></i>
    </div>
  </div>

  <div class="container">
    <h3 class="headline">[[headline]]</h3>
    <!-- Add Products -->
    <div v-bind:class="{ 'col-xs-12 col-sm-12 col-md-12': isFullScreen, 'col-xs-12 col-sm-6 col-md-6':isSmallScreen }">
      <section class="product-management load_products" v-on:click.stop v-show="show_load">
        <header class="header">
          <input class="new-product"
                 autofocus autocomplete="off"
                 placeholder="Enter products model code"
                 v-model="newProduct"
                 @keyup.enter="addProduct">
        </header>
        <section class="main" v-show="products.length" v-cloak>
          <input class="toggle-all" type="checkbox" v-model="allActive">
          <ul class="product-list">
            <li v-for="product in products"
                class="product"
                :key="product.id"
                :class="{ active: product.active }">
              <div class="view">
                <input class="toggle" type="checkbox" v-model="product.active">
                <i class="destroy fa fa-trash-o fa-2x fa-pull-right" aria-hidden="true" @click="removeProduct(product)"></i>
                <label>[[product.modelCode]]</label>
                <small v-if="show_names" class="indent">
                  <span v-if="product.category" class="product_category">[[product.category.label]]</span>
                  <span v-if="product.attribute1" class="product_attrbute1"> [[conjunction_1]] [[product.attribute1.label]]</span>
                  <span v-if="product.attribute2" class="product_attrbute2"> [[conjunction_2]] [[product.attribute2.label]]</span>
                </small>
                <!-- Preview Feature -->
                <div class="product_preview" v-on:click.stop v-if="show_preview">
                  <div class="indent">
                    <h5 class="product_name inline" v-if="product.category">Product Names:</h5>
                    <ul class="list-group">
                      <li class="de list-group-item " v-if="product.category">
                        <span class=" flag-icon flag-icon-de"></span>
                        <span v-if="product.category" class="product_category">[[product.category.label]]</span>
                        <span v-if="product.attribute1" class="product_attrbute1"> [[conjunction_1]] [[product.attribute1.label]]</span>
                        <span v-if="product.attribute2" class="product_attrbute2"> [[conjunction_2]] [[product.attribute2.label]]</span>
                          <i class="fa fa-pencil fa-pull-right" title="Edit Name" aria-hidden="true"></i>
                      </li>
                    </ul>
                  </div>
                  <div v-if="product.descriptions" class="indent description">
                    <h5>Descriptions:</h5>
                    <ul class="list-group">
                      <li class="en list-group-item">
                        <i class="fa fa-pencil fa-pull-right" title="Add custom description" aria-hidden="true" v-show="!product.descriptions.en.edit" @click="editDescription(product.descriptions.en)"></i>
                        <i class="fa fa-times-circle-o fa-pull-right" title="Close Editor" aria-hidden="true" v-show="product.descriptions.en.edit" @click="closeEditDescription(product.descriptions.en)"></i>
                        <i class="fa fa-refresh fa-pull-right " title="Generate new description" aria-hidden="true" @click="getGeneratedDescription(product, 'en')"></i>
                        <span class=" flag-icon flag-icon-us"></span>
                        <span v-show="!product.descriptions.en.edit" @click="editDescription(product.descriptions.en)">[[product.descriptions.en.value]]</span>
                        <div class="editable" v-show="product.descriptions.en.edit">
                          <textarea v-model="product.descriptions.en.value" @keyup.enter="closeEditDescription(product.descriptions.en)"></textarea>
                        </div>
                      </li>
                      <li class="de list-group-item">
                        <i class="fa fa-pencil fa-pull-right" title="Add custom description" aria-hidden="true" v-show="!product.descriptions.de.edit" @click="editDescription(product.descriptions.de)"></i>
                        <i class="fa fa-times-circle-o fa-pull-right" title="Close Editor" aria-hidden="true" v-show="product.descriptions.de.edit"  @click="closeEditDescription(product.descriptions.de)"></i>
                        <i class="fa fa-refresh fa-pull-right" title="Generate new description" aria-hidden="true" @click="getGeneratedDescription(product, 'de')"></i>
                        <span class=" flag-icon flag-icon-de"></span>
                        <span v-show="!product.descriptions.de.edit" @click="editDescription(product.descriptions.de)">[[product.descriptions.de.value]]</span>
                        <div class="editable" v-show="product.descriptions.de.edit">
                          <textarea v-model="product.descriptions.de.value" @keyup.enter="closeEditDescription(product.descriptions.de)"></textarea>
                        </div>

                      </li>
                    </ul>

                  </div>
                </div>
                <!-- Preview END -->
              </div>
            </li>
          </ul>
        </section>
      </section>
    </div>
    <!-- Add Products end -->
    <!-- Add Product Names -->
    <div class="products_name row col-xs-12 col-sm-6 col-md-6" v-on:click.stop v-show="show_names">
      <div class="margin-bottom">
        <v-select :value.sync="selected_category" placeholder="Select a Category" :options="category_options"></v-select>
      </div>
      <div class="margin-bottom">
        <v-select :value.sync="selected_attribute_1" placeholder="Select an attribute" :options="attribute_options_1"></v-select>
      </div>
      <div class="margin-bottom">
        <v-select :value.sync="selected_attribute_2" placeholder="Select an other attribute" :options="attribute_options_2"></v-select>
      </div>
      <div class="row">
        <div class="actions">
          <button type="button" class="btn btn-success save_name fa-pull-right" @click="saveNameScheme()"><i class="fa fa-floppy-o fa-2x" aria-hidden="true"></i> Save changes</button>
        </div>
      </div>
    </div>
    <!-- End Product Names  -->
    <!-- Export -->
    <div class="products_export row col-xs-12 col-sm-6 col-md-6" v-on:click.stop v-show="show_export">
      <h5>Export selected products to shop</h5>
      <button type="button" class="btn btn-success save_name" @click="alert('Not ready yet .... coming soon')"><i class="fa fa-database fa-2x" aria-hidden="true"></i> Save to DB</button>
    </div>
    <!-- End Export -->
    <!-- Messages -->
    <div class="message row col-xs-12 col-sm-12 col-md-12" v-on:click.stop v-show="show_message">
      <div>
        <h5>Actions</h5>
        <ul class="list-group">
          <li class="list-group-item">
            <a href="#" class="error_report" v-on:click="alert('A message will be send to the admin with the errors listed below')"><i class="fa fa-share-square-o fa-2x" aria-hidden="true"></i> Share Errors </a>&nbsp;&nbsp;
            <a href="#" class="export" v-on:click="addMessage('test message dude', 'danger')"><i class="fa fa-plus-square fa-2x" aria-hidden="true"></i> Add</a>&nbsp;&nbsp;
            <a href="#" class="export" v-on:click="removeMessages()"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> Delete ALL</a>&nbsp;&nbsp;
            <a href="#" class="export" v-on:click="debugMessages()"><i class="fa fa-search fa-2x" aria-hidden="true"></i> Debug</a>
          </li>
        </ul>
        <h5>Errors</h5>
        <ul class="list-group">
          <li class="list-group-item" v-for="message in messages | filterBy 'danger' in 'type'">
            <div class="alert alert-[[message.type]]" >
              <i class=date">[[message.date]]:</i>
              <span>[[message.message]]</span>
              <i class="fa fa-trash-o fa-pull-right" aria-hidden="true" @click="removeMessage(message)" ></i>
            </div>

          </li>
        </ul>
    </div>
    <!-- End Messages -->
  </div>
  </div>
</div>
</body>
</html>
<script src="assets/app.js"></script>
